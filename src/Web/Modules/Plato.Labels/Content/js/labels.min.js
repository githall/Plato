if(typeof $().modal=="undefined")throw new Error("BootStrap 4.1.1 or above Required");if(typeof window.$.Plato=="undefined")throw new Error("$.Plato Required");if(typeof window.$.fn.platoUI=="undefined")throw new Error("$.Plato UI Required");$(function(n,t,i){"use strict";var r=n.$.Plato,u=function(n){var t="labelDropDown",f=t+"Id",u={maxItems:10},r={init:function(n,t,i){return i?i(this):t?(this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(f){var e=f.data("maxItems")?parseInt(f.data("maxItems")):f.data(t).maxItems;f.selectDropdown(i.extend({itemTemplate:'<li class="list-group-item select-dropdown-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name}<\/span><a href="#" class="btn btn-secondary float-right select-dropdown-delete" title="Delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,"")},onShow:function(n,t){var i=t.find('[type="search"]');i.length>0&&i.focus().labelAutoComplete("show").labelAutoComplete("update")},onUpdated:function(n){var u=n.find(".dropdown-menu"),t=n.data("selectDropdown").items,r;if(u.find("label").each(function(){var n=i("#"+i(this).attr("for"));n.length>0&&(n.prop("checked",!1),i(this).removeClass("active"))}),t&&t.length>0)for(r=0;r<t.length;r++){var f="label-"+t[r].id,e=u.find("#"+f),o=u.find('[for="'+f+'"]');e.length>0&&e.prop("checked",!0);o.length>0&&o.addClass("active")}}},u,n));r.getInput(f).labelAutoComplete(i.extend({itemTemplate:'<input type="checkbox" value="{id}" id="label-{id}"/><label for="label-{id}" class="{itemCss}"><i class="fal mr-2 check-icon"><\/i><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor}">{name}<\/span><span title="Occurrences" data-toggle="tooltip" class="float-right btn btn-sm btn-secondary">{totalEntities.text}<\/span><\/label>',onItemClick:function(n,t,i){var u,o;i.preventDefault();i.stopPropagation();u=r.getIndex(f,t);u===-1?(o=e>0&&f.data("selectDropdown").items.length<e,o&&f.data("selectDropdown").items.push(t)):f.data("selectDropdown").items.splice(u,1);f.selectDropdown("update")},onLoaded:function(){f.selectDropdown("update")},onHide:function(n){n.autoComplete("show").autoComplete("update")}},u,n))},getInput:function(n){return n.find('[type="search"]')},getIndex:function(n,t){var f=n.data("selectDropdown").ensureUnique,e=n.data("selectDropdown"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var e,h,o={},n=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:n=e}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),o));else{var e=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,e);i(this).data(t,i.extend({},u,o))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,o)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),f=function(){var t="labelAutoComplete",u=t+"Id",f={valueField:"keywords",config:{method:"GET",url:"/api/labels/get?pager.page={page}&pager.size={pageSize}&opts.search={keywords}",data:{sort:"TotalEntities",order:"Desc"}},itemCss:"dropdown-item",itemTemplate:'<a class="{itemCss}" href="{url}"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor}">{name}<\/span><span title="Occurrences" data-toggle="tooltip" class="float-right btn btn-sm btn-secondary">{totalEntities.text}<\/span><\/a>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),n=t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,""),n=t.totalEntities.text?n.replace(/\{totalEntities.text}/g,t.totalEntities.text):n.replace(/\{totalEntities.text}/g,""),t.alias?n.replace("{alias}",t.alias):n.replace("{alias}","")},onKeyDown:function(n,t){t.keyCode===13&&t.preventDefault()},onItemClick:function(n,t,i){i.preventDefault()}},r={init:function(i,r,u){if(u)return u(this);i.data(t).config.url=n.$.Plato.defaults.pathBase+"/api/labels/get?pager.page={page}&pager.size={pageSize}&opts.search={keywords}";i.autoComplete(i.data(t),r)}};return{init:function(){for(var e,h,o={},n=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:n=e}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),o));else{var e=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,e);i(this).data(t,i.extend({},f,o))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},f,o)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),e=function(n){var t="labelTagIt",f=t+"Id",u={},r={init:function(n,t,i){return i?i(this):t?(this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.tagIt(i.extend({itemTemplate:'<li class="tagit-list-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name} <a href="#" class="tagit-list-item-delete" data-toggle="tooltip" title="Delete" style="color: {foreColor};"><i class="fal fa-times"><\/i><\/a><\/span><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,"")},onAddItem:function(n){n.val("")}},u,n));r.getInput(t).labelAutoComplete(i.extend({onItemClick:function(n,i,u){var f,e;u.preventDefault();f=r.getIndex(t,i);f===-1?(e=t.data("tagIt"),e.items.push(i),t.tagIt("update")):t.tagIt({highlightIndex:f},"highlight");t.tagIt("focus");t.tagIt("select")}},u,n))},getInput:function(n){return n.find(".tagit-list-item-input").find("input")},getIndex:function(n,t){var f=n.data("tagIt").ensureUnique,e=n.data("tagIt"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},u,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}();i.fn.extend({labelDropdown:u.init,labelAutoComplete:f.init,labelTagIt:e.init});r.ready(function(){i('[data-provide="label-dropdown"]').labelDropdown();i('[data-provide="labelAutoComplete"]').labelAutoComplete();i('[data-provide="labelTagIt"]').labelTagIt()})}(window,document,jQuery));