if(typeof jQuery=="undefined")throw new Error("jQuery 3.3.1 or above Required");if(typeof window.$.Plato=="undefined")throw new Error("$.Plato Required");if(typeof window.$.fn.platoUI=="undefined")throw new Error("$.Plato UI Required");$(function(n,t,i){"use strict";var r=n.$.Plato,u=function(){var n="searchDropDown",r=n+"Id",u={},t={init:function(n,i){if(i){this[i]!==null&&typeof this[i]!="undefined"?this[i].apply(this,[n]):alert(i+" is not a valid method!");return}t.bind(n)},bind:function(n){n.on("shown.bs.dropdown",function(){i(this).find(".form-control").focus()})}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),f=function(){var t="searchAutoComplete",u=t+"Id",f={valueField:"keywords",itemTemplate:'<a class="{itemCss}" href="{url}"><div style="display:inline-block; width: 85%; overflow:hidden; text-overflow: ellipsis;"><span class="avatar avatar-sm mr-2"><span style="background-image: url({createdBy.avatar.url});"><\/span><\/span>{title}<\/div>{relevance}<\/a>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.title?n.replace(/\{title}/g,t.title):n.replace(/\{title}/g,"(no title)"),n=t.excerpt?n.replace(/\{excerpt}/g,t.userName):n.replace(/\{excerpt}/g,"(no excerpt)"),n=t.url?n.replace(/\{url}/g,t.url):n.replace(/\{url}/g,"#"),n=t.relevance?t.relevance>0?n.replace(/\{relevance}/g,'<span class="float-right badge badge-primary" data-provide="tooltip" title="Relevancy">'+t.relevance+"%<\/span>"):n.replace(/\{relevance}/g,""):n.replace(/\{relevance}/g,""),t.createdBy&&t.createdBy.avatar&&(n=t.createdBy.avatar.url?n.replace(/\{createdBy.avatar.url}/g,t.createdBy.avatar.url):n.replace(/\{createdBy.avatar.url}/g,"#")),t.modifiedBy&&t.modifiedBy.avatar&&(n=t.modifiedBy.avatar.url?n.replace(/\{modifiedBy.avatar.url}/g,t.modifiedBy.avatar.url):n.replace(/\{modifiedBy.avatar.url}/g,"#")),t.lastReplyBy&&t.lastReplyBy.avatar&&(n=t.lastReplyBy.avatar.url?n.replace(/\{lastReplyBy.avatar.url}/g,t.lastReplyBy.avatar.url):n.replace(/\{lastReplyBy.avatar.url}/g,"#")),n},onKeyDown:function(t,r,u){var f,o,s,e;if(r.keyCode===13){if(r.preventDefault(),f=null,u.data("pagedList")&&(o=u.data("pagedList").itemCss,s=u.data("pagedList").itemSelection,u.is(":visible")&&u.find("."+o).each(function(){i(this).hasClass(s.css)&&(f=i(this).attr("href"))})),f){n.location.href=f;return}e=t.parent().find(".btn");e.length>0&&e[0].click()}},onItemClick:function(){return}},r={init:function(i,r,u){if(u)return u(this);if(r)return this[r]!==null&&typeof this[r]!="undefined"?this[r].apply(this,[i]):alert(r+" is not a valid method!"),null;i.data(t).config={method:"GET",url:n.$.Plato.defaults.pathBase+"/api/search/get?page={page}&size={pageSize}&keywords={keywords}",data:{sort:"LastReplyDate",order:"Desc"}};i.autoComplete(i.data(t),r)},show:function(n){n.autoComplete("show")}};return{init:function(){for(var e,h,o={},n=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:n=e}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),o));else{var e=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,e);i(this).data(t,i.extend({},f,o))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},f,o)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}();i.fn.extend({searchAutoComplete:f.init,searchDropDown:u.init});r.ready(function(){i('[data-provide="searchAutoComplete"]').searchAutoComplete();i('[data-provide="searchDropDown"]').searchDropDown()})}(window,document,jQuery));